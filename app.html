<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<title>BM Pro - داشبورد</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');

body {
  margin:0; padding:0;
  font-family:'Vazirmatn', sans-serif;
  background: linear-gradient(135deg,#1f1c2c,#928dab);
  color:white;
  overflow-x:hidden;
}

/* Header با افکت ورود */
header {
  padding:15px;
  background: rgba(0,0,0,0.6);
  display:flex;
  justify-content: space-between;
  align-items: center;
  font-family:'Orbitron', sans-serif;
  font-size:1.8rem;
  letter-spacing:1px;
  text-shadow:2px 2px 5px #000;
  animation: headerGlow 2s ease-in-out;
}
@keyframes headerGlow {
  0% { box-shadow:0 0 0 #5865F2; }
  50% { box-shadow:0 0 20px #ff00ff,0 0 40px #ff69b4; }
  100% { box-shadow:0 0 0 #5865F2; }
}

.points { font-weight:bold; font-size:1.3rem; }

/* Main content */
main { padding:20px; }
.panel { background: rgba(0,0,0,0.5); border-radius:12px; padding:20px; margin-bottom:20px; }
button.toggle-btn, button { 
  background: linear-gradient(135deg,#5865F2,#4752c4); 
  color:white; border:none; padding:12px 20px; 
  font-size:1rem; border-radius:12px; cursor:pointer; 
  transition:0.3s; margin:5px 0; box-shadow:0 0 5px #000;
}
button.toggle-btn:hover, button:hover { transform: scale(1.05); box-shadow:0 0 15px #fff; }
.hidden { display:none; }
input[type="text"] { padding:8px; border-radius:6px; border:none; width:220px; margin-right:10px; }
.shop-item { margin-bottom:15px; display:flex; align-items:center; }
.shop-item img { width:50px; height:50px; margin-left:10px; border-radius:8px; }
.server-gif { width:60px; height:60px; margin-left:10px; vertical-align: middle; }

/* User info gamified */
#userInfo {
  background:rgba(88,101,242,0.7);
  padding:15px; border-radius:15px; text-align:center; margin-bottom:15px;
  box-shadow:0 0 20px #5865F2, 0 0 40px #7289da;
  animation: glow 2s infinite alternate;
}
#userInfo p { margin:5px; font-size:1.2rem; font-weight:bold; text-shadow:1px 1px 5px #000; }

/* Glow animation */
@keyframes glow {
  0% { box-shadow:0 0 20px #5865F2,0 0 40px #7289da; }
  50% { box-shadow:0 0 25px #ff00ff,0 0 50px #ff69b4; }
  100% { box-shadow:0 0 20px #5865F2,0 0 40px #7289da; }
}

/* گردونه */
#wheelSection { margin-top:20px; text-align:center; }
#wheel { width:200px; height:200px; border-radius:50%; border:8px solid #5865F2; margin:20px auto; position:relative; overflow:hidden; box-shadow:0 0 20px #7289da; }
#wheel div { position:absolute; width:100%; height:100%; display:flex; justify-content:center; align-items:center; font-weight:bold; font-size:1.2rem; text-shadow:1px 1px 4px #000; }
#wheelBtn { margin-top:15px; padding:12px 20px; border:none; border-radius:12px; font-size:1rem; cursor:pointer; background: linear-gradient(135deg,#ff00ff,#ff69b4); color:white; box-shadow:0 0 10px #ff69b4; transition:0.3s;}
#wheelBtn:hover { transform:scale(1.05); box-shadow:0 0 25px #ff00ff,0 0 40px #ff69b4; }
#wheelMsg { margin-top:10px; font-weight:bold; color:#ff0; text-shadow:1px 1px 3px #000; }
</style>
</head>
<body>

<header>BM Pro <span class="points">امتیاز: <span id="points">0</span></span></header>

<main>
<div id="userInfo">
  <p id="username">در حال بارگذاری...</p>
  <p id="userid">...</p>
</div>

<!-- اطلاعات کاربر -->
<div class="panel">
  <button class="toggle-btn" onclick="toggleSection('info')">نمایش اطلاعات کاربر</button>
  <div id="info" class="hidden">
    <p>نام: <span id="usernameInfo"></span></p>
    <p>Discord ID: <span id="useridInfo"></span></p>
  </div>
</div>

<!-- تسک ها -->
<div class="panel">
  <button class="toggle-btn" onclick="toggleSection('tasks')">تسک‌ها</button>
  <div id="tasks" class="hidden">
    <button onclick="completeTask('daily')">چک کردن روزانه سایت</button>
    <button onclick="joinDiscordChannel()">ورود به چنل دیسکورد</button>
    <button onclick="showMobileInput()">ثبت شماره موبایل</button>
    <div id="mobileInput" class="hidden">
      <input type="text" id="mobile" placeholder="شماره موبایل خود را وارد کنید">
      <button onclick="submitMobile()">ثبت</button>
      <p id="mobileMsg"></p>
    </div>
  </div>
</div>

<!-- فروشگاه -->
<div class="panel">
  <button class="toggle-btn" onclick="toggleSection('shop')">فروشگاه</button>
  <div id="shop" class="hidden">
    <div class="shop-item"><img src="https://images.g2a.com/uiadminimages/170x226/1x1x0/discord-nitro-1-mois/f8ad240ec4b64dddbc8c9cc3"><button onclick="buyItem('boost', 2000)">بوست دیسکورد 1 ماهه (2000 امتیاز)</button></div>
    <div class="shop-item"><img src="https://img.freepik.com/premium-vector/premium-icon-vector-illustration-design_535345-6533.jpg"><button onclick="buyItem('premium', 1400)">اشتراک پرمیوم سرورها (1400 امتیاز)</button></div>
    <div class="shop-item"><img src="https://cdn-icons-png.flaticon.com/512/6701/6701712.png"><button onclick="buyItem('vip', 1200)">وی ای پی + (1200 امتیاز)</button></div>
    <div class="shop-item"><img src="https://limogfx.ir/wp-content/uploads/2024/04/%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%DA%A9-%D9%86%D9%82%D8%B1%D9%87-%D8%A7%DB%8C-1.webp"><button onclick="buyItem('silver', 900)">اشتراک نقره ای (900 امتیاز)</button></div>
    <div class="shop-item"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS7xSj1j4VpAmTuq9LBOFrnJzDJ2P95yN1Cp4cDnNjgjIJ8EFyf87q1EpKnMJ5DBetcgdU&usqp=CAU"><button onclick="buyItem('bronze', 590)">اشتراک برنز (590 امتیاز)</button></div>
    <div class="shop-item"><img src="https://framerusercontent.com/images/JzzTUFwDNuBVlrLsYB6bSWo8RyM.png"><button onclick="buyItem('minecraft', 30000)">خرید سرور ماینکرافت (30000 امتیاز)</button></div>
    <p id="shopMsg"></p>
  </div>
</div>

<!-- گردونه -->
<div class="panel">
  <button class="toggle-btn" onclick="toggleSection('wheelSection')">گردونه</button>
  <div id="wheelSection" class="hidden">
    <div id="wheel"></div>
    <button id="wheelBtn" onclick="spinWheel()">چرخش گردونه</button>
    <p id="wheelMsg"></p>
  </div>
</div>

<script>
// توابع اصلی بدون تغییر
function toggleSection(id){document.getElementById(id).classList.toggle('hidden');}
let points=parseInt(localStorage.getItem("bmpro_points"))||0;
document.getElementById("points").textContent=points;

// گردونه
const wheelItems = [
  {text:"5 امتیاز", points:5, chance:0.59},
  {text:"30 امتیاز", points:30, chance:0.3},
  {text:"60 امتیاز", points:60, chance:0.2},
  {text:"پوچ", points:0, chance:0.89},
  {text:"150 امتیاز", points:150, chance:0.01}
];
function spinWheel() {
  const lastSpin=localStorage.getItem("bmpro_wheel_last");
  const now=Date.now();
  if(lastSpin && now - lastSpin < 24*60*60*1000){alert("فقط یکبار در 24 ساعت می‌توانید بچرخانید"); return;}
  
  // انتخاب آیتم بر اساس احتمال
  const r=Math.random();
  let acc=0; let chosen=wheelItems[0];
  for(let item of wheelItems){
    acc+=item.chance;
    if(r<=acc){chosen=item; break;}
  }
  
  // نمایش افکت چرخش ساده
  const wheel=document.getElementById("wheel");
  wheel.textContent="در حال چرخش...";
  setTimeout(()=>{
    wheel.textContent=chosen.text;
    points+=chosen.points;
    document.getElementById("points").textContent=points;
    localStorage.setItem("bmpro_points",points);
    localStorage.setItem("bmpro_wheel_last",Date.now());
    document.getElementById("wheelMsg").textContent=`شما ${chosen.points} امتیاز گرفتید!`;
  },2000);
}

// سایر توابع از جمله completeTask، joinDiscordChannel، showMobileInput، submitMobile، buyItem، server1-4 و غیره بدون تغییر باقی می‌مانند
</script>

</body>
</html>
